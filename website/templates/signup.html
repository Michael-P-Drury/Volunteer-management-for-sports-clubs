<!DOCTYPE html>
<html lang="en">

<head>
    <link rel=stylesheet type=text/css href="{{ url_for('static', filename='styles.css') }}">
</head>

<body>

<div class="login_container">

    <div class="big_left">
        <img class="login_logo"
                        src="{{ url_for('static', filename='images/light_logo.png') }}">
    </div>

    <div class="big_right">
        <div class="login_box">
            <h1>Sign up</h1>
            {% if exists %}
                <p class = 'already_exists'>User already exists</p>
            {% endif %}
            {% if error_text %}
                <p class = 'already_exists'>incorrect admin password</p>
            {% endif %}
            <form action="" method="POST">
                {{ form.csrf_token }}
                <p class="signup-username">
                {{ form.username.label }} {{ form.username() }}
                </p>
                <p class="signup-password">
                {{ form.password.label }} {{ form.password() }}
                </p>
                <p>
                {{ form.verify_password.label }} {{ form.verify_password() }}
                </p>
                <p>
                {{ form.admin.label }} {{ form.admin() }}
                </p>
                <div id="admin-key-field" style="display: none;">
                    <p>
                        {{ form.admin_key.label }} {{ form.admin_key() }}
                    </p>
                </div>
                <p>
                {{ form.submit() }}
                </p>

            </form>
            <a class = 'to_signup' href="{{ url_for('login') }}">Login</a>
        </div>
    </div>
</div>

</body>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var adminCheckbox = document.querySelector('input[name="admin"]'); // Assuming the name of your admin checkbox is "admin"

        // Function to toggle visibility of admin key field based on admin checkbox state
        function toggleAdminKeyField() {
            var adminKeyField = document.querySelector('#admin-key-field');
            if (adminCheckbox.checked) {
                adminKeyField.style.display = 'block';
            } else {
                adminKeyField.style.display = 'none';
            }
        }

        // Initial toggle
        toggleAdminKeyField();

        // Event listener for admin checkbox change
        adminCheckbox.addEventListener('change', toggleAdminKeyField);
    });
</script>


</html>
